#!/bin/bash

# NanoLux Documentation Sync Pre-commit Hook
# Validates and updates documentation before commit

echo "ğŸ” Validating documentation sync..."

# Exit on any error
set -e

# 1. Validate TypeScript interfaces â†’ API docs
echo "ğŸ“‹ Validating API documentation..."
npm run docs:validate:api

# 2. Validate Storybook stories â†’ Examples
echo "ğŸ“š Validating documentation examples..."
npm run docs:validate:examples

# 3. Check bundle size changes â†’ Metrics
echo "ğŸ“Š Validating bundle metrics..."
npm run docs:validate:metrics

# 4. Update component documentation
echo "ğŸ“ Updating component documentation..."
npm run docs:update:components

# 5. Validate internal links
echo "ğŸ”— Validating internal links..."
npm run docs:validate:links

echo "âœ… Documentation validation completed successfully!"

# Run tests last
npm test
